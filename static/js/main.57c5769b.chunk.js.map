{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/pixabayApi.js","components/Loader/Loader.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchgQuery","page","axios","get","then","response","data","Hearts","props","width","height","viewBox","xmlns","fill","color","aria-label","label","d","attributeName","from","to","begin","dur","values","calcMode","repeatCount","defaultProps","Searchbar","state","query","changeInput","e","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","className","styles","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","placeholder","Component","ImageGalleryItem","webformatURL","openModal","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","gallery","map","id","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ButtonLoadMore","Button","App","isLoading","showModal","error","total","onChangeQuery","fetchGallery","options","pixabayApi","length","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","alert","catch","finally","onModalImg","url","toggleModal","prevProps","renderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.57c5769b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Yk-os\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__bYAGv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3jGxy\",\"Modal\":\"Modal_Modal__2WKGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__udHli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3VCTi\"};","import axios  from 'axios';\r\n\r\nconst getFetchGallery = ({ searchgQuery = '', page = 1 }) => {\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?q=${searchgQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12&key=19760906-677c9d98dcaf25643c58f07c9`\r\n        )\r\n        .then(response => { return response.data });\r\n};\r\n\r\nexport default { getFetchGallery };\r\n","// import React from 'react';\r\n// import styles from './Loader.module.css';\r\n\r\n// const Loader = () => {\r\n//     return <h1>Loading...</h1>\r\n// }\r\n\r\n// export default Loader;\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Hearts = props => (\r\n  <svg\r\n    width={props.width}\r\n    height={props.height}\r\n    viewBox=\"0 0 140 64\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill={props.color}\r\n    aria-label={props.label}\r\n  >\r\n    <path\r\n      d=\"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z\"\r\n      attributeName=\"fill-opacity\"\r\n      from=\"0\"\r\n      to=\".5\"\r\n    >\r\n      <animate\r\n        attributeName=\"fill-opacity\"\r\n        begin=\"0s\"\r\n        dur=\"1.4s\"\r\n        values=\"0.5;1;0.5\"\r\n        calcMode=\"linear\"\r\n        repeatCount=\"indefinite\"\r\n      />\r\n    </path>\r\n    <path\r\n      d=\"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z\"\r\n      attributeName=\"fill-opacity\"\r\n      from=\"0\"\r\n      to=\".5\"\r\n    >\r\n      <animate\r\n        attributeName=\"fill-opacity\"\r\n        begin=\"0.7s\"\r\n        dur=\"1.4s\"\r\n        values=\"0.5;1;0.5\"\r\n        calcMode=\"linear\"\r\n        repeatCount=\"indefinite\"\r\n      />\r\n    </path>\r\n    <path d=\"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z\" />\r\n  </svg>\r\n);\r\n\r\nHearts.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string\r\n};\r\n\r\nHearts.defaultProps = {\r\n  height: 80,\r\n  width: 80,\r\n  color: \"green\",\r\n  label: \"audio-loading\"\r\n};\r\n\r\nexport default Hearts;","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  changeInput = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.changeInput}\r\n            value={this.state.query}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"            \r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, openModal, largeImageURL }) => {\r\n  return (\r\n    <div className={styles.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => {\r\n          openModal(largeImageURL);\r\n        }}\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ gallery, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {gallery.map(({ id, webformatURL, largeImageURL }) => (\r\n        <li key={id}>\r\n          <ImageGalleryItem\r\n            webformatURL={webformatURL}\r\n            openModal={onClick}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {    \r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          {this.props.children}\r\n        </div>\r\n        </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst ButtonLoadMore = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} type=\"button\" className={styles.Button}>\r\n      Загрузить ещё\r\n    </button>\r\n  );\r\n};\r\n\r\nButtonLoadMore.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ButtonLoadMore;\r\n","import React, { Component } from 'react';\nimport pixabayApi from './services/pixabayApi';\nimport Hearts from './components/Loader';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport ButtonLoadMore from './components/Button';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    searchgQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeImageURL: '',\n    error: null,\n    total: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchgQuery !== this.state.searchgQuery) {\n      this.fetchGallery();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchgQuery: query,\n      page: 1,\n      gallery: [],\n      error: null,\n      total: null,\n    });\n  };\n\n  fetchGallery = () => {\n    const { searchgQuery, page } = this.state;\n    const options = { searchgQuery, page };\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .getFetchGallery(options)\n      .then(data => {\n        if (data.length === 0) {\n          alert(`Please, try again...`);\n          return;\n        } else {\n          this.setState(prevState => ({\n            gallery: [...prevState.gallery, ...data.hits],\n            page: prevState.page + 1,\n            total: data.total,\n          }));\n        }\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onModalImg = url => {\n    this.setState({\n      largeImageURL: url,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { gallery, isLoading, largeImageURL, error, showModal, total } = this.state;\n    const { toggleModal, onModalImg } = this;\n    const galleryLength = gallery.length > 0 && gallery.length < total;\n    const renderLoadMoreButton = galleryLength && !isLoading;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h1 className=\"errorTitle\">ERROR</h1>}\n        <ImageGallery gallery={gallery} onClick={onModalImg} />\n        {isLoading && <Hearts />}\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n        {renderLoadMoreButton && <ButtonLoadMore onClick={this.fetchGallery} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1oIK7\",\"SearchForm\":\"Searchbar_SearchForm__1lk7y\",\"SearchFormButton\":\"Searchbar_SearchFormButton__9ZHSh\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__117zg\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3MY1z\"};"],"sourceRoot":""}